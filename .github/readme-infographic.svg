<svg width="800" height="400" viewBox="0 0 800 400" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bg-grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1e293b"/>
      <stop offset="100%" style="stop-color:#0f172a"/>
    </linearGradient>
    <linearGradient id="orange" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f97316"/>
      <stop offset="100%" style="stop-color:#fb923c"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" rx="12" fill="url(#bg-grad)"/>

  <!-- Title -->
  <text x="400" y="45" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="bold" fill="#f8fafc" text-anchor="middle">RLM Workflow</text>

  <!-- Step 1: Large Document -->
  <g transform="translate(60, 80)">
    <rect width="120" height="160" rx="8" fill="#334155" stroke="#475569" stroke-width="2"/>
    <text x="60" y="185" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">Large Document</text>
    <text x="60" y="200" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">(100x context)</text>
    <!-- Lines representing text -->
    <g opacity="0.5">
      <rect x="15" y="20" width="90" height="4" rx="2" fill="#64748b"/>
      <rect x="15" y="32" width="70" height="4" rx="2" fill="#64748b"/>
      <rect x="15" y="44" width="85" height="4" rx="2" fill="#64748b"/>
      <rect x="15" y="56" width="60" height="4" rx="2" fill="#64748b"/>
      <rect x="15" y="68" width="90" height="4" rx="2" fill="#64748b"/>
      <rect x="15" y="80" width="75" height="4" rx="2" fill="#64748b"/>
      <rect x="15" y="92" width="80" height="4" rx="2" fill="#64748b"/>
      <rect x="15" y="104" width="65" height="4" rx="2" fill="#64748b"/>
      <rect x="15" y="116" width="90" height="4" rx="2" fill="#64748b"/>
      <rect x="15" y="128" width="55" height="4" rx="2" fill="#64748b"/>
    </g>
  </g>

  <!-- Arrow 1 -->
  <g transform="translate(195, 150)">
    <path d="M 0 10 L 40 10" stroke="url(#orange)" stroke-width="3" stroke-linecap="round"/>
    <path d="M 30 0 L 45 10 L 30 20" stroke="url(#orange)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
    <text x="22" y="35" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#f97316" text-anchor="middle">chunk</text>
  </g>

  <!-- Step 2: Chunks -->
  <g transform="translate(260, 90)">
    <rect x="0" y="0" width="50" height="45" rx="4" fill="#475569" stroke="#64748b" stroke-width="1"/>
    <rect x="60" y="0" width="50" height="45" rx="4" fill="#475569" stroke="#64748b" stroke-width="1"/>
    <rect x="0" y="55" width="50" height="45" rx="4" fill="#475569" stroke="#64748b" stroke-width="1"/>
    <rect x="60" y="55" width="50" height="45" rx="4" fill="#475569" stroke="#64748b" stroke-width="1"/>
    <rect x="0" y="110" width="50" height="45" rx="4" fill="#475569" stroke="#64748b" stroke-width="1"/>
    <rect x="60" y="110" width="50" height="45" rx="4" fill="#475569" stroke="#64748b" stroke-width="1"/>
    <text x="55" y="180" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">Chunks</text>
  </g>

  <!-- Arrow 2 -->
  <g transform="translate(385, 150)">
    <path d="M 0 10 L 40 10" stroke="url(#orange)" stroke-width="3" stroke-linecap="round"/>
    <path d="M 30 0 L 45 10 L 30 20" stroke="url(#orange)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
    <text x="22" y="35" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#f97316" text-anchor="middle">analyze</text>
  </g>

  <!-- Step 3: Sub-LLM Analysis -->
  <g transform="translate(450, 80)">
    <rect width="130" height="160" rx="8" fill="#334155" stroke="#f97316" stroke-width="2"/>
    <!-- Agent icons -->
    <g transform="translate(15, 20)">
      <circle cx="15" cy="15" r="12" fill="#f97316" opacity="0.3"/>
      <text x="15" y="19" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#f97316" text-anchor="middle">H</text>
      <text x="40" y="19" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#94a3b8">Haiku</text>
    </g>
    <g transform="translate(15, 55)">
      <circle cx="15" cy="15" r="12" fill="#f97316" opacity="0.3"/>
      <text x="15" y="19" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#f97316" text-anchor="middle">H</text>
      <text x="40" y="19" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#94a3b8">Haiku</text>
    </g>
    <g transform="translate(15, 90)">
      <circle cx="15" cy="15" r="12" fill="#f97316" opacity="0.3"/>
      <text x="15" y="19" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#f97316" text-anchor="middle">H</text>
      <text x="40" y="19" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#94a3b8">Haiku</text>
    </g>
    <text x="65" y="185" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">rlm-subcall</text>
    <text x="65" y="200" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">(parallel)</text>
  </g>

  <!-- Arrow 3 -->
  <g transform="translate(595, 150)">
    <path d="M 0 10 L 40 10" stroke="url(#orange)" stroke-width="3" stroke-linecap="round"/>
    <path d="M 30 0 L 45 10 L 30 20" stroke="url(#orange)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
    <text x="22" y="35" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#f97316" text-anchor="middle">synthesize</text>
  </g>

  <!-- Step 4: Synthesis -->
  <g transform="translate(660, 100)">
    <rect width="100" height="120" rx="8" fill="#334155" stroke="#22c55e" stroke-width="2"/>
    <circle cx="50" cy="40" r="20" fill="#22c55e" opacity="0.3"/>
    <text x="50" y="45" font-family="system-ui, -apple-system, sans-serif" font-size="14" fill="#22c55e" text-anchor="middle">S</text>
    <text x="50" y="80" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Sonnet</text>
    <text x="50" y="145" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">rlm-synthesizer</text>
  </g>

  <!-- Bottom: Components -->
  <g transform="translate(60, 310)">
    <text x="0" y="0" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="bold" fill="#94a3b8">Components:</text>

    <rect x="0" y="20" width="100" height="30" rx="4" fill="#1e293b" stroke="#334155" stroke-width="1"/>
    <text x="50" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#f97316" text-anchor="middle">/rlm-load</text>

    <rect x="115" y="20" width="100" height="30" rx="4" fill="#1e293b" stroke="#334155" stroke-width="1"/>
    <text x="165" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#f97316" text-anchor="middle">/rlm-query</text>

    <rect x="230" y="20" width="130" height="30" rx="4" fill="#1e293b" stroke="#334155" stroke-width="1"/>
    <text x="295" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#f97316" text-anchor="middle">rlm-subcall agent</text>

    <rect x="375" y="20" width="150" height="30" rx="4" fill="#1e293b" stroke="#334155" stroke-width="1"/>
    <text x="450" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#f97316" text-anchor="middle">rlm-synthesizer agent</text>

    <rect x="540" y="20" width="100" height="30" rx="4" fill="#1e293b" stroke="#334155" stroke-width="1"/>
    <text x="590" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#b7410e" text-anchor="middle">rlm-rs CLI</text>
  </g>

  <!-- Footer -->
  <text x="400" y="385" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#64748b" text-anchor="middle">Based on RLM paper (arXiv:2512.24601) - Process documents up to 100x larger than context window</text>
</svg>
